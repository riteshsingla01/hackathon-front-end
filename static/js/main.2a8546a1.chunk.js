(this.webpackJsonpamplify=this.webpackJsonpamplify||[]).push([[0],{103:function(e,t,a){e.exports=a(133)},108:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),i=a(35),o=a(27),s=(a(108),a(62)),u=a.n(s),m=a(43),g=a(25),p=a(82),h=a(83),d=a(14),E=a(91),f=a(177),v=a(184),y=a(175),b=a(87),N=a(176),C=a(84),S=a.n(C),P=a(37),j=a(171),k=a(174),O=a(173),R=a(168),w=a(86),A=a.n(w),I=a(186),T=Object(R.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main}}}));function x(){var e=Object(n.useState)(!1),t=Object(P.a)(e,2),a=t[0],l=t[1],c=T();return r.a.createElement("div",{className:c.root},a?r.a.createElement(o.a,{to:"/"}):null,r.a.createElement(j.a,{position:"fixed",style:{background:"#DFE1DF"}},r.a.createElement(O.a,null,r.a.createElement(I.a,{className:c.avatar},r.a.createElement(A.a,null)),r.a.createElement(k.a,{color:"primary",justify:"center",variant:"h4",className:c.title},"CloudReady"),"/"!==window.location.pathname?r.a.createElement(y.a,{id:"logoutButton",color:"primary",variant:"outlined",className:"menuButton",onClick:function(){return l(!0)}}," Logout "):null)))}var D=a(90),M=Object(D.a)({palette:{primary:{main:"#d11947",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#d11947"},calmblue:{backgroundColor:"#008ccf",color:"#ffffff"},poppingpurple:{backgroundColor:"#712d91",color:"#ffffff"},gray:{light:"#c7c9c8",dark:"#878a8f"},gradientgray:{background:"linear-gradient(to top, #878a8f, #c7c9c8 10%, #ffffff 35%)"}}}),W=Object(R.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),q=(a(81),["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"]),L=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={search:!1,searchResults:[]},a.pageRef=r.a.createRef(),a.onZipChange=a.onZipChange.bind(Object(d.a)(a)),a.onPhoneNumberChange=a.onPhoneNumberChange.bind(Object(d.a)(a)),a.clearInputs=a.clearInputs.bind(Object(d.a)(a)),a.onSelectChange=a.onSelectChange.bind(Object(d.a)(a)),a.getSearchState=a.getSearchState.bind(Object(d.a)(a)),a.getSearchResults=a.getSearchResults.bind(Object(d.a)(a)),a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"onZipChange",value:function(e){isNaN(e.target.value.replace("-",""))||e.target.value.length>10||"-"===e.target.value.slice(-1)?e.target.value=e.target.value.substring(0,e.target.value.length-1):6===e.target.value.length&&(e.target.value=e.target.value.substring(0,5)+"-"+e.target.value.charAt(5))}},{key:"_cleanPhoneNumber",value:function(e){return e.length&&(13!==e.length||"("!==e.charAt(0)||")"!==e.charAt(4)||"-"!==e.charAt(8)||isNaN(e.substring(1,4))||isNaN(e.substring(5,8))||isNaN(e.substring(9,13)))?null:e.replace("(","").replace(")","").replace("-","")}},{key:"onPhoneNumberChange",value:function(e){e.target.value.length>13||isNaN(e.target.value.replace("(","").replace(")","").replace("-",""))||"("===e.target.value.slice(-1)||")"===e.target.value.slice(-1)||"-"===e.target.value.slice(-1)?e.target.value=e.target.value.substring(0,e.target.value.length-1):4===e.target.value.length?e.target.value="("+e.target.value.substring(0,3)+")"+e.target.value.charAt(3):9===e.target.value.length&&(e.target.value=e.target.value.substring(0,8)+"-"+e.target.value.charAt(8)),"("===e.target.value.charAt(0)&&-1===e.target.value.indexOf(")")&&(e.target.value=e.target.value.substring(1,e.target.value.length))}},{key:"clearInputs",value:function(){for(var e=this.pageRef.parentNode.querySelectorAll(".input"),t=0;t<e.length;t++)e[t].querySelector("input").value=""}},{key:"onSelectChange",value:function(e){this.setState({state:e.target.value})}},{key:"getSearchState",value:function(){for(var e={},t=this.pageRef.parentNode.querySelectorAll(".input"),a=0;a<t.length;a++){var n=t[a].querySelector("input").value;"phoneNumber"===t[a].querySelector("input").id&&(n=this._cleanPhoneNumber(n)),e[t[a].querySelector("input").id]=n}return e.state=this.pageRef.parentNode.querySelector("#state").value,e}},{key:"getSearchResults",value:function(){var e,t,a,n,r;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:for(e=this.getSearchState(),t=Object.keys(e),a={},n=0;n<t.length;n++)a[t[n]]=e[t[n]];return l.next=6,u.a.awrap(S.a.post("http://3.90.164.170:30098/v1/search",a,{headers:{"Content-Type":"application/json"}}));case 6:r=l.sent,this.setState({search:!0,searchResults:r.data.matches});case 8:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement(N.a,{theme:M},this.state.search?r.a.createElement(o.a,{to:{pathname:"/results",state:{searchResults:this.state.searchResults}}}):null,r.a.createElement(x,null),r.a.createElement("div",{className:"page",ref:function(t){return e.pageRef=t}},r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{container:!0,spacing:2},r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"firstName",label:"First Name",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"middleName",label:"Middle Name",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"lastName",label:"Last Name",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0,style:{flexGrow:2}}),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"constituentId",label:"Constituent ID",className:"input",style:M.palette.gradientgray}))),r.a.createElement(f.a,{container:!0,style:{marginTop:"2rem"},spacing:2},r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"street1",label:"Address",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"street2",label:"Address 2",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"city",label:"City",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0},r.a.createElement(b.a,{value:this.state.state,inputProps:{id:"state"},style:{minWidth:"4rem",marginTop:"1rem",paddingLeft:".4rem",background:M.palette.gradientgray.background},onChange:this.onSelectChange},r.a.createElement("option",{value:""},"State"),q.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"zip",label:"Zip Code",className:"input",style:M.palette.gradientgray,onChange:this.onZipChange}))),r.a.createElement(f.a,{container:!0,style:{marginTop:"2rem"},spacing:2},r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"email",label:"Email",className:"input",style:M.palette.gradientgray})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{id:"phoneNumber",label:"Phone Number",className:"input",style:M.palette.gradientgray,onChange:this.onPhoneNumberChange}))),r.a.createElement(f.a,{container:!0,style:{marginTop:"2rem"},spacing:2},r.a.createElement(f.a,{item:!0},r.a.createElement(y.a,{id:"searchButton",variant:"contained",style:M.palette.calmblue,onClick:this.getSearchResults},"Search")),r.a.createElement(f.a,{item:!0},r.a.createElement(y.a,{id:"clearButton",variant:"contained",style:M.palette.calmblue,onClick:this.clearInputs},"Clear"))))))}}]),t}(n.Component),B=a(179),F=a(88),G=a.n(F),Z=r.a.createRef(),V=function(){var e=Object(n.useState)(!1),t=Object(P.a)(e,2),a=t[0],l=t[1];var c=W();return r.a.createElement(N.a,{theme:M},a?r.a.createElement(o.a,{to:"/search"}):null,r.a.createElement(x,null),r.a.createElement(B.a,{component:"main",maxWidth:"sm",style:{marginTop:"8rem"}},r.a.createElement("div",{className:"page",ref:function(e){return Z=e}},r.a.createElement(f.a,{container:!0,justify:"center",style:{marginBottom:"2rem"}},r.a.createElement(f.a,{item:!0},r.a.createElement(I.a,{className:c.avatar},r.a.createElement(G.a,null)))),r.a.createElement(f.a,{container:!0,justify:"center"},r.a.createElement(f.a,{container:!0,justify:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign In")))),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0})),r.a.createElement(f.a,{item:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(f.a,{container:!0,style:{marginTop:"1rem"},justify:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement(y.a,{id:"signInButton",variant:"contained",style:M.palette.calmblue,onClick:function(){"test"===Z.parentNode.querySelector("#username").value&&"test"===Z.parentNode.querySelector("#password").value?l(!0):alert("Incorrect login info")}},"Sign in"))))))},H=a(28),K=a(183),z=a(185),J=a(180),U=a(181),Y=a(89),_=a.n(Y);function X(e,t,a){return e.sort((function(e,n){return function(e,t,a,n){return e[a]<t[a]&&"asc"===n||e[a]>t[a]&&"desc"===n?-1:1}(e,n,t,a)}))}var $=function(e){var t=Object(n.useState)({page:0,gotoSearch:!1,searchResults:e.location.state.searchResults,resultsPerPage:50,sortColumn:"",sortDirection:"asc"}),a=Object(P.a)(t,2),l=a[0],c=a[1],i=function(e){var t=X(l.searchResults,e.target.value,l.sortDirection);c((function(a){return Object(H.a)({},a,{sortColumn:e.target.value,searchResults:t})}))},s=function(e){var t=X(l.searchResults,l.sortColumn,e.target.value);c((function(a){return Object(H.a)({},a,{sortDirection:e.target.value,searchResults:t})}))},u=function(e){return r.a.createElement(z.a,null,r.a.createElement(J.a,{expandIcon:r.a.createElement(_.a,null)},r.a.createElement(k.a,null,e.constituent.firstName+" "+e.constituent.middleName+" "+e.constituent.lastName),r.a.createElement(k.a,{style:{position:"absolute",left:"75%"}},e.constituent.constituentId)),r.a.createElement(U.a,null,r.a.createElement(k.a,null,"Address: ",e.constituent.street1+" "+e.constituent.city+", "+e.constituent.state+", "+e.constituent.zip)),r.a.createElement(U.a,null,r.a.createElement(k.a,null,"Phone Number: ",e.constituent.phoneNumber),r.a.createElement(k.a,{style:{position:"absolute",left:"75%"}},"Email: ",e.constituent.email)))};return r.a.createElement(N.a,{theme:M},l.gotoSearch?r.a.createElement(o.a,{to:"/search"}):null,r.a.createElement(x,null),r.a.createElement((function(){return r.a.createElement(j.a,{position:"fixed",style:{marginTop:"4.5rem",backgroundColor:M.palette.gray.light}},r.a.createElement(f.a,{container:!0,spacing:2},r.a.createElement(f.a,{item:!0,style:{marginTop:".5rem",marginLeft:"1rem"}},r.a.createElement(y.a,{id:"searchButton",variant:"contained",style:M.palette.calmblue,onClick:function(){return c((function(e){return Object(H.a)({},e,{gotoSearch:!0})}))}},"Search")),r.a.createElement(f.a,{item:!0,style:{flexGrow:2}}),r.a.createElement(f.a,{item:!0},r.a.createElement(K.a,{component:"div",count:l.searchResults.length,rowsPerPage:l.resultsPerPage,page:l.page,onChangeRowsPerPage:function(e){return c((function(t){return Object(H.a)({},t,{resultsPerPage:e.target.value})}))},onChangePage:function(e,t){return c((function(e){return Object(H.a)({},e,{page:t})}))}})),r.a.createElement(f.a,{item:!0,style:{flexGrow:2}}),r.a.createElement(f.a,{item:!0,style:{marginTop:".5rem"}},r.a.createElement(b.a,{value:l.sortColumn,inputProps:{id:"sort-column"},style:{minWidth:"8rem",paddingLeft:".4rem"},onChange:i},r.a.createElement("option",{value:""},"Sort"),r.a.createElement("option",{value:"firstName"},"First Name"),r.a.createElement("option",{value:"middleName"},"Middle Name"),r.a.createElement("option",{value:"lastName"},"Last Name"),r.a.createElement("option",{value:"constituentId"},"Constituent ID"),r.a.createElement("option",{value:"street1"},"Street"),r.a.createElement("option",{value:"city"},"City"),r.a.createElement("option",{value:"state"},"State"),r.a.createElement("option",{value:"zip"},"Zip Code"),r.a.createElement("option",{value:"phoneNumber"},"Phone Number"),r.a.createElement("option",{value:"email"},"Email"))),r.a.createElement(f.a,{item:!0,style:{marginTop:".5rem",marginRight:"1rem"}},r.a.createElement(b.a,{value:l.sortDirection,inputProps:{id:"sort-direction"},style:{minWidth:"4rem",paddingLeft:".4rem"},onChange:s},r.a.createElement("option",{value:"asc"},"Asc"),r.a.createElement("option",{value:"desc"},"Desc")))))}),null),r.a.createElement("div",{className:"page",style:{marginTop:"10rem"}},r.a.createElement(f.a,{container:!0,spacing:1,style:{display:"block",alignItems:"center",justifyContent:"center"}},l.searchResults.map((function(e,t){return t>=l.page*l.resultsPerPage&&t<(l.page+1)*l.resultsPerPage?r.a.createElement(f.a,{item:!0,key:"key"+t},r.a.createElement(u,{constituent:e,key:t})):null}))),r.a.createElement(f.a,{container:!0,spacing:1,style:{display:"block",alignItems:"center",justifyContent:"center"}},r.a.createElement(f.a,{item:!0},r.a.createElement(K.a,{component:"div",count:l.searchResults.length,rowsPerPage:l.resultsPerPage,page:l.page,onChangeRowsPerPage:function(e){return c((function(t){return Object(H.a)({},t,{resultsPerPage:e.target.value})}))},onChangePage:function(e,t){return c((function(e){return Object(H.a)({},e,{page:t})}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{basename:window.location.pathname||""},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:V}),r.a.createElement(o.b,{path:"/search",component:L}),r.a.createElement(o.b,{path:"/results",component:$}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.2a8546a1.chunk.js.map